<html>
  <head>
    <title>Vimium Settings</title>
    <style type="text/css" media="screen">
      body {
        font-family:"helvetica neue", "helvetica", "arial", "sans";
        width:800px;
        margin:10px auto;
      }
      .example {
        font-size:80%;
        color:#555;
        margin-left:20px;
      }
      .caption {
        margin-right:10px;
      }
      td {
        margin:3px 0;
      }
      button#saveSettings {
        margin-top:20px;
      }
    </style>
  </head>

  <script type="text/javascript">

  // Saves options to localStorage.
  function saveOptions() {
    var scrollStepSize = document.getElementById("scrollStepSize").value;
    localStorage["scrollStepSize"] = scrollStepSize;

    var defaultZoomLevel = document.getElementById("defaultZoomLevel").value;
    localStorage["defaultZoomLevel"] = defaultZoomLevel;

    // Update status to let user know options were saved.
    var status = document.getElementById("status");
    status.innerHTML = "Settings Saved.";
    setTimeout(function() { status.innerHTML = ""; }, 750);
  }

  // Restores select box state to saved value from localStorage.
  function restoreOptions() {
    // TODO(ilya): Create a single option list with defaults somewhere to share across various scripts. 
    var scrollStepSize = localStorage["scrollStepSize"] || 60;
    var defaultZoomLevel = localStorage["defaultZoomLevel"] || 100;

    document.getElementById("scrollStepSize").value = scrollStepSize;
    document.getElementById("defaultZoomLevel").value = defaultZoomLevel;
  }
  </script>

  <body onload="restoreOptions()">
    <h1>Vimium - Settings</h1>
    <table>
      <tr>
        <td class="caption">Scroll Step Size</td>
        <td><input id="scrollStepSize" type="text" style="width:50px">px</td>
        <td><span class="example">(default: 60)</td>
      </tr>
      <tr>
        <td><span class="caption">Default zoom level</span></td>
        <td><input id="defaultZoomLevel" type="text" value="100" style="width:50px">%</td>
        <td><span class="example">(default: 100)</span></td>
      </tr>
    </table>

    <button id="saveSettings" onclick="saveOptions()">Save Settings</button>
  </body>
</html>
